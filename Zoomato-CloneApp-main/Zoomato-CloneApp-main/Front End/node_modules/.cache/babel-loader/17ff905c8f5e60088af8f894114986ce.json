{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Zoomato-CloneApp-main\\\\Zoomato-CloneApp-main\\\\Front End\\\\src\\\\components\\\\topbar\\\\UserMenu.jsx\";\nimport React from 'react';\nimport { Typography, Grid, Menu, MenuItem, IconButton, Button, Dialog, TextField } from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nconst axios = require('axios').default;\n\nclass UserMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n      warnOpen: false,\n      resetFailed: \"\",\n      dropFailed: \"\",\n      passwordDialogOpen: false,\n      phoneDialogOpen: false,\n      addressDialogOpen: false,\n      oldPassword: \"\",\n      newPassword: \"\",\n      phoneNumber: \"\",\n      address: \"\",\n      city: \"\",\n      state: \"\",\n      zip: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.openMenu = this.openMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.openWarnDialog = this.openWarnDialog.bind(this);\n    this.closeWarn = this.closeWarn.bind(this);\n    this.openPasswordDialog = this.openPasswordDialog.bind(this);\n    this.closePasswordDialog = this.closePasswordDialog.bind(this);\n    this.openPhoneDialog = this.openPhoneDialog.bind(this);\n    this.closephoneDialog = this.closephoneDialog.bind(this);\n    this.openAddressDialog = this.openAddressDialog.bind(this);\n    this.closeAddressDialog = this.closeAddressDialog.bind(this);\n    this.resetPassword = this.resetPassword.bind(this);\n    this.resetPhone = this.resetPhone.bind(this);\n    this.resetAddress = this.resetAddress.bind(this);\n    this.logout = this.logout.bind(this);\n    this.dropAccount = this.dropAccount.bind(this);\n  }\n\n  handleChange(content) {\n    this.setState(content);\n  }\n\n  openMenu(event) {\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  }\n\n  closeMenu() {\n    this.setState({\n      anchorEl: null\n    });\n  }\n\n  openWarnDialog() {\n    this.setState({\n      warnOpen: true,\n      anchorEl: null\n    });\n  }\n\n  closeWarn() {\n    this.setState({\n      warnOpen: false,\n      dropFailed: \"\"\n    });\n  }\n\n  openPasswordDialog() {\n    this.setState({\n      passwordDialogOpen: true,\n      anchorEl: null\n    });\n  }\n\n  closePasswordDialog() {\n    this.setState({\n      passwordDialogOpen: false,\n      oldPassword: \"\",\n      newPassword: \"\",\n      resetFailed: \"\"\n    });\n  }\n\n  openPhoneDialog() {\n    this.setState({\n      phoneDialogOpen: true,\n      anchorEl: null\n    });\n  }\n\n  closephoneDialog() {\n    this.setState({\n      phoneDialogOpen: false,\n      phoneNumber: \"\"\n    });\n  }\n\n  openAddressDialog() {\n    this.setState({\n      addressDialogOpen: true,\n      anchorEl: null\n    });\n  }\n\n  closeAddressDialog() {\n    this.setState({\n      addressDialogOpen: false,\n      address: \"\",\n      city: \"\",\n      state: \"\",\n      zip: \"\"\n    });\n  }\n\n  logout() {\n    this.setState({\n      anchorEl: null\n    });\n    this.props.logoutUser();\n  }\n\n  dropAccount(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.delete(\"/api/\" + type + \"/\" + this.props.currentUser.id).then(response => {\n      this.closeWarn();\n      this.logout();\n      console.log(\"Successfully delete the user\");\n    }).catch(err => {\n      this.setState({\n        dropFailed: err.response.data\n      });\n      console.log(err.response.data);\n    });\n  }\n\n  resetPassword(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.post(\"/api/\" + type + \"/resetPassword\", {\n      id: this.props.currentUser.id,\n      password: this.state.oldPassword,\n      newPassword: this.state.newPassword\n    }).then(response => {\n      this.closePasswordDialog();\n      console.log(\"Password update\");\n    }).catch(err => {\n      this.setState({\n        resetFailed: err.response.data\n      });\n      console.log(err.response.data);\n    });\n  }\n\n  resetPhone(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.post(\"/api/\" + type + \"/resetPhone\", {\n      id: this.props.currentUser.id,\n      phoneNumber: this.state.phoneNumber\n    }).then(response => {\n      this.closephoneDialog();\n      console.log(\"Phone update\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  resetAddress(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.post(\"/api/\" + type + \"/resetAddress\", {\n      id: this.props.currentUser.id,\n      address: this.state.address,\n      city: this.state.city,\n      state: this.state.state,\n      zip: this.state.zip\n    }).then(response => {\n      this.closeAddressDialog();\n      console.log(\"Address update\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      style: {\n        color: \"white\"\n      },\n      \"aria-label\": \"menu\",\n      onClick: this.openMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SettingsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, \"My Account\")), /*#__PURE__*/React.createElement(Menu, {\n      anchorEl: this.state.anchorEl,\n      open: Boolean(this.state.anchorEl),\n      getContentAnchorEl: null,\n      onClose: this.closeMenu,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      style: {\n        color: \"#1E90FF\"\n      },\n      onClick: this.openPasswordDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }, \"Reset Password\"), /*#__PURE__*/React.createElement(MenuItem, {\n      style: {\n        color: \"#1E90FF\"\n      },\n      onClick: this.openPhoneDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, \"Update Contact Information\"), /*#__PURE__*/React.createElement(MenuItem, {\n      style: {\n        color: \"#1E90FF\"\n      },\n      onClick: this.openAddressDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, \"Update Address\"), /*#__PURE__*/React.createElement(MenuItem, {\n      style: {\n        color: \"#1E90FF\"\n      },\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }, \"Logout\"), /*#__PURE__*/React.createElement(MenuItem, {\n      style: {\n        color: \"#1E90FF\"\n      },\n      onClick: this.openWarnDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }\n    }, \"Drop My Account\")), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.warnOpen,\n      onClose: this.closeWarn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, \"Warn!!!\"), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, \"Do you want to drop your account?\"), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 47\n      }\n    }, \"(This will erase your order information as well)\")), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, this.state.dropFailed), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: this.dropAccount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closeWarn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, \"No\"))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.passwordDialogOpen,\n      onClose: this.closePasswordDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.resetPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, \"Reset Your Password\"), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, this.state.resetFailed), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"Old Password\",\n      type: \"password\",\n      value: this.state.oldPassword,\n      autoFocus: true,\n      onChange: event => this.handleChange({\n        oldPassword: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"New Password\",\n      type: \"password\",\n      value: this.state.newPassword,\n      onChange: event => this.handleChange({\n        newPassword: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }, \"Update Password\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closePasswordDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 15\n      }\n    }, \"Cancel\")))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.phoneDialogOpen,\n      onClose: this.closephoneDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.resetPhone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 15\n      }\n    }, \"Reset Your Phone Number\"), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"New Phone Number\",\n      type: \"text\",\n      value: this.state.phoneNumber,\n      autoFocus: true,\n      onChange: event => this.handleChange({\n        phoneNumber: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }, \"Update Phone Number\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closephoneDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 15\n      }\n    }, \"Cancel\")))), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.addressDialogOpen,\n      onClose: this.closeAddressDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.resetAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 15\n      }\n    }, \"Reset Your Address\"), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"Address\",\n      type: \"text\",\n      value: this.state.address,\n      autoFocus: true,\n      onChange: event => this.handleChange({\n        address: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"City\",\n      type: \"text\",\n      value: this.state.city,\n      onChange: event => this.handleChange({\n        city: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"State\",\n      type: \"text\",\n      value: this.state.state,\n      onChange: event => this.handleChange({\n        state: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"Zip Code\",\n      type: \"text\",\n      value: this.state.zip,\n      onChange: event => this.handleChange({\n        zip: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 15\n      }\n    }, \"Update Address\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closeAddressDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 15\n      }\n    }, \"Cancel\")))));\n  }\n\n}\n\nexport default UserMenu;","map":{"version":3,"sources":["C:/Users/HP/Downloads/Zoomato-CloneApp-main/Zoomato-CloneApp-main/Front End/src/components/topbar/UserMenu.jsx"],"names":["React","Typography","Grid","Menu","MenuItem","IconButton","Button","Dialog","TextField","SettingsIcon","axios","require","default","UserMenu","Component","constructor","props","state","anchorEl","warnOpen","resetFailed","dropFailed","passwordDialogOpen","phoneDialogOpen","addressDialogOpen","oldPassword","newPassword","phoneNumber","address","city","zip","handleChange","bind","openMenu","closeMenu","openWarnDialog","closeWarn","openPasswordDialog","closePasswordDialog","openPhoneDialog","closephoneDialog","openAddressDialog","closeAddressDialog","resetPassword","resetPhone","resetAddress","logout","dropAccount","content","setState","event","currentTarget","logoutUser","preventDefault","type","currentUser","delete","id","then","response","console","log","catch","err","data","post","password","render","color","Boolean","vertical","horizontal","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Typography, Grid, Menu, MenuItem, IconButton, Button, Dialog, TextField\n} from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nconst axios = require('axios').default;\n\nclass UserMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n      warnOpen: false,\n      resetFailed : \"\",\n      dropFailed : \"\",\n      passwordDialogOpen : false,\n      phoneDialogOpen : false,\n      addressDialogOpen : false,\n      oldPassword: \"\",\n      newPassword: \"\",\n      phoneNumber: \"\",\n      address: \"\",\n      city: \"\",\n      state: \"\",\n      zip: \"\"\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.openMenu = this.openMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.openWarnDialog = this.openWarnDialog.bind(this);\n    this.closeWarn = this.closeWarn.bind(this);\n    this.openPasswordDialog = this.openPasswordDialog.bind(this);\n    this.closePasswordDialog = this.closePasswordDialog.bind(this);\n    this.openPhoneDialog = this.openPhoneDialog.bind(this);\n    this.closephoneDialog = this.closephoneDialog.bind(this);\n    this.openAddressDialog = this.openAddressDialog.bind(this);\n    this.closeAddressDialog = this.closeAddressDialog.bind(this);\n    this.resetPassword = this.resetPassword.bind(this);\n    this.resetPhone = this.resetPhone.bind(this);\n    this.resetAddress = this.resetAddress.bind(this);\n    this.logout = this.logout.bind(this);\n    this.dropAccount = this.dropAccount.bind(this);\n  }\n\n  handleChange(content) {\n    this.setState(content);\n  }\n\n  openMenu(event) {\n    this.setState({anchorEl: event.currentTarget});\n  }\n\n  closeMenu() {\n    this.setState({anchorEl: null});\n  }\n\n  openWarnDialog() {\n    this.setState({warnOpen: true, anchorEl: null});\n  }\n\n  closeWarn() {\n    this.setState({warnOpen: false, dropFailed : \"\"});\n  }\n\n  openPasswordDialog() {\n    this.setState({passwordDialogOpen: true, anchorEl: null});\n  }\n\n  closePasswordDialog() {\n    this.setState({passwordDialogOpen: false, oldPassword : \"\", newPassword : \"\", resetFailed : \"\"});\n  }\n\n  openPhoneDialog() {\n    this.setState({phoneDialogOpen: true, anchorEl: null});\n  }\n\n  closephoneDialog() {\n    this.setState({phoneDialogOpen: false, phoneNumber : \"\"});\n  }\n\n  openAddressDialog() {\n    this.setState({addressDialogOpen: true, anchorEl: null});\n  }\n\n  closeAddressDialog() {\n    this.setState({addressDialogOpen: false, address: \"\", city: \"\", state: \"\", zip: \"\"});\n  }\n\n  logout() {\n    this.setState({anchorEl: null});\n    this.props.logoutUser();\n  }\n\n  dropAccount(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.delete(\"/api/\" + type + \"/\" + this.props.currentUser.id).then(\n      response => {\n        this.closeWarn();\n        this.logout();\n        console.log(\"Successfully delete the user\");\n      }\n    ).catch(err => {\n      this.setState({dropFailed : err.response.data});\n      console.log(err.response.data);\n    });\n  }\n\n  resetPassword(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.post(\"/api/\" + type + \"/resetPassword\", {\n      id : this.props.currentUser.id,\n      password : this.state.oldPassword,\n      newPassword : this.state.newPassword\n    }).then(\n      response => {\n        this.closePasswordDialog();\n        console.log(\"Password update\");\n      }\n    ).catch(err => {\n      this.setState({resetFailed : err.response.data});\n      console.log(err.response.data);\n    });\n  }\n\n  resetPhone(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.post(\"/api/\" + type + \"/resetPhone\", {\n      id : this.props.currentUser.id,\n      phoneNumber : this.state.phoneNumber\n    }).then(\n      response => {\n        this.closephoneDialog();\n        console.log(\"Phone update\");\n      }\n    ).catch(err => {\n      console.log(err);\n    });\n  }\n\n  resetAddress(event) {\n    event.preventDefault();\n    let type = this.props.currentUser.type;\n    axios.post(\"/api/\" + type + \"/resetAddress\", {\n      id : this.props.currentUser.id,\n      address : this.state.address,\n      city : this.state.city,\n      state : this.state.state,\n      zip : this.state.zip\n    }).then(\n      response => {\n        this.closeAddressDialog();\n        console.log(\"Address update\");\n      }\n    ).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return (\n      <Grid container>\n        <IconButton edge=\"end\" style={{color: \"white\"}} aria-label=\"menu\" onClick={this.openMenu} >\n          <SettingsIcon/>\n          <Typography variant=\"h5\">My Account</Typography>\n        </IconButton>\n        <Menu\n          anchorEl={this.state.anchorEl}\n          open={Boolean(this.state.anchorEl)}\n          getContentAnchorEl={null}\n          onClose={this.closeMenu}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n          }}\n        >\n          <MenuItem style={{color : \"#1E90FF\"}} onClick={this.openPasswordDialog}>Reset Password</MenuItem>\n          <MenuItem style={{color : \"#1E90FF\"}} onClick={this.openPhoneDialog}>Update Contact Information</MenuItem>\n          <MenuItem style={{color : \"#1E90FF\"}} onClick={this.openAddressDialog}>Update Address</MenuItem>\n          <MenuItem style={{color : \"#1E90FF\"}} onClick={this.logout}>Logout</MenuItem>\n          <MenuItem style={{color : \"#1E90FF\"}} onClick={this.openWarnDialog}>Drop My Account</MenuItem>\n        </Menu>\n        <Dialog open={this.state.warnOpen} onClose={this.closeWarn}>\n          <div className=\"dialog\">\n            <Typography variant=\"h6\" color=\"error\">Warn!!!</Typography>\n            <Typography variant=\"h6\">Do you want to drop your account?</Typography>\n            <Typography color=\"textSecondary\"><i>(This will erase your order information as well)</i></Typography>\n            <Typography variant=\"body1\" color=\"error\">\n                {this.state.dropFailed}\n              </Typography>\n            <br />\n            <Button type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"secondary\" \n                onClick={this.dropAccount} \n            >\n              Yes\n            </Button>\n            <Button onClick={this.closeWarn}>No</Button>\n          </div>\n        </Dialog>\n        <Dialog open={this.state.passwordDialogOpen} onClose={this.closePasswordDialog}>\n          <div className=\"dialog\">\n            <form onSubmit={this.resetPassword}>\n              <Typography component=\"h1\" variant=\"h5\">\n                Reset Your Password\n              </Typography>\n              <Typography variant=\"body1\" color=\"error\">\n                {this.state.resetFailed}\n              </Typography>\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"Old Password\"\n                  type=\"password\"\n                  value={this.state.oldPassword}\n                  autoFocus\n                  onChange={event => this.handleChange({oldPassword: event.target.value})}\n              />\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"New Password\"\n                  type=\"password\"\n                  value={this.state.newPassword}\n                  onChange={event => this.handleChange({newPassword: event.target.value})}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Update Password\n              </Button>\n              <Button onClick={this.closePasswordDialog}>Cancel</Button>\n            </form>\n          </div>\n        </Dialog>\n        <Dialog open={this.state.phoneDialogOpen} onClose={this.closephoneDialog}>\n          <div className=\"dialog\">\n            <form onSubmit={this.resetPhone}>\n              <Typography component=\"h1\" variant=\"h5\">\n                Reset Your Phone Number\n              </Typography>\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"New Phone Number\"\n                  type=\"text\"\n                  value={this.state.phoneNumber}\n                  autoFocus\n                  onChange={event => this.handleChange({phoneNumber: event.target.value})}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Update Phone Number\n              </Button>\n              <Button onClick={this.closephoneDialog}>Cancel</Button>\n            </form>\n          </div>\n        </Dialog>\n        <Dialog open={this.state.addressDialogOpen} onClose={this.closeAddressDialog}>\n          <div className=\"dialog\">\n            <form onSubmit={this.resetAddress}>\n              <Typography component=\"h1\" variant=\"h5\">\n                Reset Your Address\n              </Typography>\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"Address\"\n                  type=\"text\"\n                  value={this.state.address}\n                  autoFocus\n                  onChange={event => this.handleChange({address: event.target.value})}\n              />\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"City\"\n                  type=\"text\"\n                  value={this.state.city}\n                  onChange={event => this.handleChange({city: event.target.value})}\n              />\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"State\"\n                  type=\"text\"\n                  value={this.state.state}\n                  onChange={event => this.handleChange({state: event.target.value})}\n              />\n              <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  label=\"Zip Code\"\n                  type=\"text\"\n                  value={this.state.zip}\n                  onChange={event => this.handleChange({zip: event.target.value})}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Update Address\n              </Button>\n              <Button onClick={this.closeAddressDialog}>Cancel</Button>\n            </form>\n          </div>\n        </Dialog>\n      </Grid>\n    );\n  }\n}\n\nexport default UserMenu;"]},"metadata":{},"sourceType":"module"}