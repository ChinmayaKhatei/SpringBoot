{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Zoomato-CloneApp-main\\\\Zoomato-CloneApp-main\\\\Front End\\\\src\\\\components\\\\customerView\\\\mainpage\\\\DisplayRestaurant.jsx\";\nimport React from 'react';\nimport { Grid, Typography, Button } from '@material-ui/core';\nimport { Link } from \"react-router-dom\";\nimport \"./Customer.css\";\nimport DishCard from \"../../card/DishCard\";\n\nconst axios = require('axios').default;\n\nclass DisplayRestaurant extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restaurantId: this.props.match.params.restaurantId,\n      restaurant: undefined,\n      subtotal: 0,\n      shopcart: []\n    };\n    this.getRestaurant = this.getRestaurant.bind(this);\n    this.addDish = this.addDish.bind(this);\n    this.addToCart = this.addToCart.bind(this);\n  }\n\n  componentDidMount() {\n    this.getRestaurant();\n  }\n\n  getRestaurant() {\n    axios.get(\"/api/restaurant/\" + this.state.restaurantId).then(response => {\n      this.setState({\n        restaurant: response.data\n      });\n    }).catch(err => console.log(err));\n  }\n\n  addDish(action, dish) {\n    if (action === \"add\") {\n      let tempArray = this.state.shopcart;\n      tempArray.push(dish);\n      this.setState({\n        subtotal: this.state.subtotal + dish.price,\n        shopcart: tempArray\n      });\n    } else if (action === \"minus\") {\n      let tempArray2 = this.state.shopcart.filter(preDish => preDish.dishName !== dish.dishName);\n      this.setState({\n        subtotal: this.state.subtotal - dish.price,\n        shopcart: tempArray2\n      });\n    }\n  }\n\n  addToCart() {\n    axios.post(\"/api/order/addToCart\", {\n      customerId: this.props.currentUser.id,\n      restaurantId: this.state.restaurantId,\n      shopcart: this.state.shopcart\n    }).then(response => console.log(response.data)).catch(err => console.log(err));\n  }\n\n  render() {\n    return this.props.currentUser && this.state.restaurant ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"littleImage\",\n      src: this.state.restaurant.information.imageUrl,\n      alt: this.state.restaurant.information.restaurantName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    }, \"Welcome to \", this.state.restaurant.information.restaurantName))), !this.state.restaurant.information.open ? /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Closed, will go back soon...\") : null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"textSecondary\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, this.state.restaurant.information.description)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      justify: \"space-evenly\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, this.state.restaurant.menu.map((dish, index) => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DishCard, {\n      dish: dish,\n      addDish: this.addDish,\n      currentUser: this.props.currentUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkoutBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 42\n      }\n    }, \"Subtotal : $ \", this.state.subtotal)))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/customer/home\",\n      style: {\n        textDecoration: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      size: \"large\",\n      disabled: !this.state.restaurant.information.open || this.state.subtotal === 0,\n      onClick: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, \"Add to Cart\")))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, \"This restaurant is not available\");\n  }\n\n}\n\nexport default DisplayRestaurant;","map":{"version":3,"sources":["C:/Users/HP/Downloads/Zoomato-CloneApp-main/Zoomato-CloneApp-main/Front End/src/components/customerView/mainpage/DisplayRestaurant.jsx"],"names":["React","Grid","Typography","Button","Link","DishCard","axios","require","default","DisplayRestaurant","Component","constructor","props","state","restaurantId","match","params","restaurant","undefined","subtotal","shopcart","getRestaurant","bind","addDish","addToCart","componentDidMount","get","then","response","setState","data","catch","err","console","log","action","dish","tempArray","push","price","tempArray2","filter","preDish","dishName","post","customerId","currentUser","id","render","information","imageUrl","restaurantName","open","description","menu","map","index","textDecoration"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,IADF,EACQC,UADR,EACoBC,MADpB,QAEO,mBAFP;AAGA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,gBAAP;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B;;AAEA,MAAMC,iBAAN,SAAgCT,KAAK,CAACU,SAAtC,CAAgD;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBF,YAD3B;AAEXG,MAAAA,UAAU,EAAEC,SAFD;AAGXC,MAAAA,QAAQ,EAAE,CAHC;AAIXC,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAMA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAEDG,EAAAA,iBAAiB,GAAG;AAClB,SAAKJ,aAAL;AACD;;AAEDA,EAAAA,aAAa,GAAG;AACdf,IAAAA,KAAK,CAACoB,GAAN,CAAU,qBAAqB,KAAKb,KAAL,CAAWC,YAA1C,EAAwDa,IAAxD,CACEC,QAAQ,IAAI;AACV,WAAKC,QAAL,CAAc;AAACZ,QAAAA,UAAU,EAAEW,QAAQ,CAACE;AAAtB,OAAd;AACD,KAHH,EAIEC,KAJF,CAIQC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJf;AAKD;;AAEDT,EAAAA,OAAO,CAACY,MAAD,EAASC,IAAT,EAAe;AACpB,QAAID,MAAM,KAAK,KAAf,EAAsB;AACpB,UAAIE,SAAS,GAAG,KAAKxB,KAAL,CAAWO,QAA3B;AACAiB,MAAAA,SAAS,CAACC,IAAV,CAAeF,IAAf;AACA,WAAKP,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWM,QAAX,GAAsBiB,IAAI,CAACG,KAAtC;AAA6CnB,QAAAA,QAAQ,EAAEiB;AAAvD,OAAd;AACD,KAJD,MAIO,IAAIF,MAAM,KAAK,OAAf,EAAwB;AAC7B,UAAIK,UAAU,GAAG,KAAK3B,KAAL,CAAWO,QAAX,CAAoBqB,MAApB,CAA2BC,OAAO,IAAIA,OAAO,CAACC,QAAR,KAAqBP,IAAI,CAACO,QAAhE,CAAjB;AACA,WAAKd,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWM,QAAX,GAAsBiB,IAAI,CAACG,KAAtC;AAA6CnB,QAAAA,QAAQ,EAAEoB;AAAvD,OAAd;AACD;AACF;;AAEDhB,EAAAA,SAAS,GAAG;AACVlB,IAAAA,KAAK,CAACsC,IAAN,CAAW,sBAAX,EAAmC;AACjCC,MAAAA,UAAU,EAAE,KAAKjC,KAAL,CAAWkC,WAAX,CAAuBC,EADF;AAEjCjC,MAAAA,YAAY,EAAE,KAAKD,KAAL,CAAWC,YAFQ;AAGjCM,MAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO;AAHY,KAAnC,EAIGO,IAJH,CAIQC,QAAQ,IAAIK,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACE,IAArB,CAJpB,EAIgDC,KAJhD,CAIsDC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJ7D;AAKD;;AAEDgB,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKpC,KAAL,CAAWkC,WAAX,IAA0B,KAAKjC,KAAL,CAAWI,UAArC,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,MAAA,GAAG,EAAG,KAAKJ,KAAL,CAAWI,UAAX,CAAsBgC,WAAtB,CAAkCC,QAArE;AAA+E,MAAA,GAAG,EAAE,KAAKrC,KAAL,CAAWI,UAAX,CAAsBgC,WAAtB,CAAkCE,cAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAe,KAAKtC,KAAL,CAAWI,UAAX,CAAsBgC,WAAtB,CAAkCE,cAAjD,CAAH,CAFA,CADF,EAKG,CAAC,KAAKtC,KAAL,CAAWI,UAAX,CAAsBgC,WAAtB,CAAkCG,IAAnC,gBACC,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,OAApB;AAA4B,MAAA,KAAK,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADD,GAEG,IAPN,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eASE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,OAApB;AAA4B,MAAA,KAAK,EAAC,eAAlC;AAAkD,MAAA,SAAS,EAAC,GAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKvC,KAAL,CAAWI,UAAX,CAAsBgC,WAAtB,CAAkCI,WAAtC,CADF,CATF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,eAeE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAA4B,MAAA,OAAO,EAAC,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKxC,KAAL,CAAWI,UAAX,CAAsBqC,IAAtB,CAA2BC,GAA3B,CAA+B,CAACnB,IAAD,EAAOoB,KAAP,kBAC9B,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAkB,MAAA,GAAG,EAAEA,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAEpB,IAAhB;AAAsB,MAAA,OAAO,EAAE,KAAKb,OAApC;AAA6C,MAAA,WAAW,EAAE,KAAKX,KAAL,CAAWkC,WAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADD,CADH,CAfF,eAsBE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAC,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiB,KAAKjC,KAAL,CAAWM,QAA5B,CAAzB,CADF,CADJ,CADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAC,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,gBAAV;AAA4B,MAAA,KAAK,EAAE;AAACsC,QAAAA,cAAc,EAAE;AAAjB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,UAAhB;AAA2B,MAAA,KAAK,EAAC,SAAjC;AAA2C,MAAA,IAAI,EAAC,OAAhD;AAAwD,MAAA,QAAQ,EAAE,CAAC,KAAK5C,KAAL,CAAWI,UAAX,CAAsBgC,WAAtB,CAAkCG,IAAnC,IAA2C,KAAKvC,KAAL,CAAWM,QAAX,KAAwB,CAArI;AAAwI,MAAA,OAAO,EAAE,KAAKK,SAAtJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,CADJ,CAPF,CAtBF,CADK,gBAyCH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAzCJ;AA0CD;;AAxF6C;;AA2FhD,eAAef,iBAAf","sourcesContent":["import React from 'react';\nimport {\n  Grid, Typography, Button\n} from '@material-ui/core';\nimport { Link } from \"react-router-dom\";\nimport \"./Customer.css\";\nimport DishCard from \"../../card/DishCard\";\nconst axios = require('axios').default;\n\nclass DisplayRestaurant extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restaurantId: this.props.match.params.restaurantId,\n      restaurant: undefined,\n      subtotal: 0,\n      shopcart: []\n    }\n    this.getRestaurant = this.getRestaurant.bind(this);\n    this.addDish = this.addDish.bind(this);\n    this.addToCart = this.addToCart.bind(this);\n  }\n\n  componentDidMount() {\n    this.getRestaurant();\n  }\n\n  getRestaurant() {\n    axios.get(\"/api/restaurant/\" + this.state.restaurantId).then(\n      response => {\n        this.setState({restaurant: response.data});\n      }\n    ).catch(err => console.log(err));\n  }\n\n  addDish(action, dish) {\n    if (action === \"add\") {\n      let tempArray = this.state.shopcart;\n      tempArray.push(dish);\n      this.setState({subtotal: this.state.subtotal + dish.price, shopcart: tempArray});\n    } else if (action === \"minus\") {\n      let tempArray2 = this.state.shopcart.filter(preDish => preDish.dishName !== dish.dishName);\n      this.setState({subtotal: this.state.subtotal - dish.price, shopcart: tempArray2});\n    }\n  }\n\n  addToCart() {\n    axios.post(\"/api/order/addToCart\", {\n      customerId: this.props.currentUser.id,\n      restaurantId: this.state.restaurantId,\n      shopcart: this.state.shopcart\n    }).then(response => console.log(response.data)).catch(err => console.log(err));\n  }\n\n  render() {\n    return this.props.currentUser && this.state.restaurant ? (\n      <div>\n        <Typography variant=\"h4\">\n        <img className=\"littleImage\" src= {this.state.restaurant.information.imageUrl} alt={this.state.restaurant.information.restaurantName} />\n        <i><b>Welcome to {this.state.restaurant.information.restaurantName}</b></i>\n        </Typography>\n        {!this.state.restaurant.information.open ? (\n          <Typography variant=\"body1\" color=\"error\">Closed, will go back soon...</Typography>\n        ) : null}\n        <br />\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\n          <i>{this.state.restaurant.information.description}</i>\n        </Typography>\n        <br />\n        <br />\n        <br />\n        <Grid container spacing={3} justify=\"space-evenly\">\n          {this.state.restaurant.menu.map((dish, index) => (\n            <Grid item xs={3} key={index}>\n              <DishCard dish={dish} addDish={this.addDish} currentUser={this.props.currentUser} />\n            </Grid>\n          ))}\n        </Grid>\n        <div className=\"checkoutBox\">\n          <Grid container justify=\"flex-end\">\n              <Grid item>\n                <Typography variant=\"h5\"><i>Subtotal : $ {this.state.subtotal}</i></Typography>\n              </Grid>\n          </Grid>\n          <br />\n          <Grid container justify=\"flex-end\">\n              <Grid item>\n                <Link to={\"/customer/home\"} style={{textDecoration: \"none\"}}>\n                  <Button variant=\"outlined\" color=\"primary\" size=\"large\" disabled={!this.state.restaurant.information.open || this.state.subtotal === 0} onClick={this.addToCart}>\n                    Add to Cart\n                  </Button>\n                </Link>\n              </Grid>\n          </Grid>\n        </div>\n      </div>\n    ) : <div>This restaurant is not available</div>\n  }\n}\n\nexport default DisplayRestaurant;"]},"metadata":{},"sourceType":"module"}